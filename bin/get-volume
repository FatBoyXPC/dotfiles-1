#!/usr/bin/python2
# Copied from https://github.com/FatBoyXPC/...?

import os
import re
from subprocess import check_output

amixerOutput = check_output(['amixer', '-D', 'pulse', 'sget', 'Master'])

volumeRegex = re.compile('[0-9]{1,3}%')
volumes = volumeRegex.findall(amixerOutput)

muteRegex = re.compile('\[off\]')
mutes = muteRegex.findall(amixerOutput)

if len(volumes) != 2 and volumes[0] != volumes[1]:
    print "ERR"
    exit(1)

if len(mutes) > 0:
    if len(mutes) == 2:
        print "Mute"
        exit(0)
    else:
        print "ERR"
        exit(2)

print volumes[0]
exit(0)
