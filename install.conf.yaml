- clean: ['~']

- link:
    ~/.dotfiles: ""
    ~/.gitconfig: gitconfig
    ~/.gitignore_global: gitignore_global
    ~/.vim: vim/
    ~/.vimrc: vimrc
    ~/.bashrc:
        force: true
        path: bashrc
    ~/.bash_profile: bash_profile
    ~/.aliases: aliases
    ~/.xmonad/xmonad.hs:
        create: true
        path: xmonad.hs
    ~/.xmobarrc: xmobarrc
    ~/.Xmodmap: Xmodmap
    ~/.Xresources: Xresources
    ~/.xinitrc: xinitrc
    ~/.conkyrc: conkyrc
    ~/bin: bin
    ~/.config/autorandr:
        create: true
        path: autorandr
    ~/.config/roxterm.sourceforge.net:
        create: true
        path: roxterm.sourceforge.net
    ~/.config/termite:
        create: true
        path: termite
    ~/.dir_colors: dir_colors
    ~/.ssh/config:
        create: true
        path: ssh_config

    /etc/systemd/logind.conf.d/no-suspend-on-lidswitch.conf:
        create: true
        path: no-suspend-on-lidswitch.conf
    /etc/systemd/logind.conf.d/suspend-on-powerbutton.conf:
        create: true
        path: suspend-on-powerbutton.conf
    /etc/X11/xorg.conf.d/20-kaladin-intel.conf:
        create: true
        path: 20-kaladin-intel.conf
    # Fix trackpoint middle button scroll by creating a `/etc/X11/xorg.conf.d/20-trackpoint.conf` as per https://wiki.archlinux.org/index.php/Lenovo_ThinkPad_T410.
    /etc/X11/xorg.conf.d/20-trackpoint.conf:
        create: true
        path: 20-trackpoint.conf
    /etc/vconsole.conf:
        create: true
        path: vconsole.conf

    /usr/lib/systemd/system/fixkeys.path:
        create: true
        path: units/fixkeys.path
    /usr/lib/systemd/system/fixkeys.service:
        create: true
        path: units/fixkeys.service
    /usr/lib/systemd/system/fixmouse.path:
        create: true
        path: units/fixkeys.path
    /usr/lib/systemd/system/fixmouse.service:
        create: true
        path: units/fixkeys.service

    /etc/udev/rules.d/10-local.rules:
        create: true
        path: udev/10-local.rules
    /usr/lib/systemd/system/monitors.service:
        create: true
        path: units/monitors.service

- shell:
  -
    - git update-submodules
    - Install/update submodules
