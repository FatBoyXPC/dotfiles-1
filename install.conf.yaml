- clean: ['~']

- defaults:
    link:
        create: true
        relink: true
        force: true

- link:
    ~/.dotfiles: ""
    ~/.gitconfig: gitconfig
    ~/.gitignore_global: gitignore_global
    ~/.vim: vim/
    ~/.vimrc: vimrc

    ~/.bashrc: bashrc
    ~/.zshrc: zshrc
    ~/.commonrc: commonrc

    ~/.bash_profile: bash_profile
    ~/.xmonad/xmonad.hs: xmonad.hs
    ~/.xmobarrc: xmobarrc
    ~/.Xmodmap: Xmodmap
    ~/.Xresources: Xresources
    ~/.xinitrc: xinitrc
    ~/.conkyrc: conkyrc
    ~/bin: bin
    ~/.config/roxterm.sourceforge.net: roxterm.sourceforge.net
    ~/.config/termite: termite
    ~/.config/dunst: dunst
    ~/.dir_colors: dir_colors
    ~/.ssh/config: ssh_config
    ~/.mplayer: mplayer

    ~/.ssh: ~/Dropbox/linux-secrets/kaladin-ssh
    ~/.gnupg: ~/Dropbox/linux-secrets/gnupg
    ~/.lolcommits: ~/Dropbox/pics/lolcommits

    /etc/modprobe.d/nobeep.conf: nobeep.conf
    /etc/systemd/logind.conf.d/no-suspend-on-lidswitch.conf: no-suspend-on-lidswitch.conf
    /etc/systemd/logind.conf.d/suspend-on-powerbutton.conf: suspend-on-powerbutton.conf
    /etc/vconsole.conf: vconsole.conf
    /etc/X11/xorg.conf.d/20-intel.conf: 20-intel.conf
    /etc/X11/xorg.conf.d/20-trackpoint.conf: 20-trackpoint.conf

    /etc/systemd/system/fixinputs.path: units/fixinputs.path
    /etc/systemd/system/fixinputs.service: units/fixinputs.service
    /etc/systemd/system/slock@.service: units/slock@.service
    /etc/systemd/system/disable-bt-wakeup.service: units/disable-bt-wakeup.service

    /etc/udev/rules.d/10-local.rules: udev/10-local.rules
    /usr/lib/systemd/system/monitors.service: units/monitors.service

    /etc/pacman.d/hooks/99-secureboot.hook: pac-hooks/99-secureboot.hook

- shell:
  - [git update-submodules, Install/update submodules]
  - ["chmod -R u=rwX,og= ~/.ssh/", Fix ssh key permissions]
  - ["chmod -R u=rwX,og= ~/.gnupg/", Fix gnupg permissions]
